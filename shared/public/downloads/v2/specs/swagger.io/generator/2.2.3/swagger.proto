syntax = "proto3";

import "google/protobuf/empty.proto";

import "google/api/annotations.proto";

package swaggergenerator;

message GetGenClientsResponse {
    repeated string items = 1;
}

message GetGenClientsLanguageRequest {
    // The target language for the client library
    enum GetGenClientsLanguageRequest_Language {
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_AKKASCALA = 0;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ANDROID = 1;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_APEX = 2;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ASYNCSCALA = 3;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_BASH = 4;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CLOJURE = 5;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CPPREST = 6;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CSHARP = 7;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CSHARPDOTNET2 = 8;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CWIKI = 9;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_DART = 10;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_DYNAMICHTML = 11;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_EIFFEL = 12;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ELIXIR = 13;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_FLASH = 14;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_GO = 15;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_GROOVY = 16;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_HTML = 17;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_HTML2 = 18;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVA = 19;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVASCRIPT = 20;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVASCRIPTCLOSUREANGULAR = 21;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAXRSCXFCLIENT = 22;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JMETER = 23;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_KOTLIN = 24;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_OBJC = 25;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PERL = 26;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PHP = 27;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_POWERSHELL = 28;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PYTHON = 29;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_QT5CPP = 30;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_RUBY = 31;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SCALA = 32;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWAGGER = 33;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWAGGERYAML = 34;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT = 35;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT3 = 36;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT4 = 37;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TIZEN = 38;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTANGULAR = 39;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTANGULAR2 = 40;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTFETCH = 41;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTJQUERY = 42;
        GETGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTNODE = 43;
    }
    GetGenClientsLanguageRequest_Language language = 1;
}

message GetGenClientsLanguageResponse {
}

message PostGenClientsLanguageRequest {
    // Configuration for building the client library
    GeneratorInput body = 1;
    // The target language for the client library
    enum PostGenClientsLanguageRequest_Language {
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_AKKASCALA = 0;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ANDROID = 1;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_APEX = 2;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ASYNCSCALA = 3;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_BASH = 4;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CLOJURE = 5;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CPPREST = 6;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CSHARP = 7;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CSHARPDOTNET2 = 8;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_CWIKI = 9;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_DART = 10;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_DYNAMICHTML = 11;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_EIFFEL = 12;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_ELIXIR = 13;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_FLASH = 14;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_GO = 15;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_GROOVY = 16;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_HTML = 17;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_HTML2 = 18;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVA = 19;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVASCRIPT = 20;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAVASCRIPTCLOSUREANGULAR = 21;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JAXRSCXFCLIENT = 22;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_JMETER = 23;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_KOTLIN = 24;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_OBJC = 25;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PERL = 26;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PHP = 27;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_POWERSHELL = 28;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_PYTHON = 29;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_QT5CPP = 30;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_RUBY = 31;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SCALA = 32;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWAGGER = 33;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWAGGERYAML = 34;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT = 35;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT3 = 36;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_SWIFT4 = 37;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TIZEN = 38;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTANGULAR = 39;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTANGULAR2 = 40;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTFETCH = 41;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTJQUERY = 42;
        POSTGENCLIENTSLANGUAGEREQUEST_LANGUAGE_TYPESCRIPTNODE = 43;
    }
    PostGenClientsLanguageRequest_Language language = 2;
}

message GetGenDownloadFileIdRequest {
    string fileId = 1;
}

message GetGenServersResponse {
    repeated string items = 1;
}

message GetGenServersFrameworkRequest {
    // The target language for the server framework
    enum GetGenServersFrameworkRequest_Framework {
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ASPNET5 = 0;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ASPNETCORE = 1;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ERLANGSERVER = 2;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_FINCH = 3;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_GOSERVER = 4;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_HASKELL = 5;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_INFLECTOR = 6;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAVAPLAYFRAMEWORK = 7;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAVAVERTX = 8;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRS = 9;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSCXF = 10;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSCXFCDI = 11;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSRESTEASY = 12;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSRESTEASYEAP = 13;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSSPEC = 14;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_LUMEN = 15;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_MSF4J = 16;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_NANCYFX = 17;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_NODEJSSERVER = 18;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PHPSYMFONY = 19;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PISTACHESERVER = 20;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PYTHONFLASK = 21;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_RAILS5 = 22;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_RESTBED = 23;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SCALATRA = 24;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SILEXPHP = 25;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SINATRA = 26;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SLIM = 27;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SPRING = 28;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_UNDERTOW = 29;
        GETGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ZEPH = 30;
    }
    GetGenServersFrameworkRequest_Framework framework = 1;
}

message GetGenServersFrameworkResponse {
}

message PostGenServersFrameworkRequest {
    // parameters
    GeneratorInput body = 1;
    // framework
    enum PostGenServersFrameworkRequest_Framework {
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ASPNET5 = 0;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ASPNETCORE = 1;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ERLANGSERVER = 2;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_FINCH = 3;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_GOSERVER = 4;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_HASKELL = 5;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_INFLECTOR = 6;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAVAPLAYFRAMEWORK = 7;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAVAVERTX = 8;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRS = 9;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSCXF = 10;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSCXFCDI = 11;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSRESTEASY = 12;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSRESTEASYEAP = 13;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_JAXRSSPEC = 14;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_LUMEN = 15;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_MSF4J = 16;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_NANCYFX = 17;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_NODEJSSERVER = 18;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PHPSYMFONY = 19;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PISTACHESERVER = 20;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_PYTHONFLASK = 21;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_RAILS5 = 22;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_RESTBED = 23;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SCALATRA = 24;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SILEXPHP = 25;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SINATRA = 26;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SLIM = 27;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_SPRING = 28;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_UNDERTOW = 29;
        POSTGENSERVERSFRAMEWORKREQUEST_FRAMEWORK_ZEPH = 30;
    }
    PostGenServersFrameworkRequest_Framework framework = 2;
}

message AuthorizationValue {
    string keyName = 1;
    string type = 2;
    string value = 3;
}

message CliOption {
    string default = 1;
    string description = 2;
    map<string, string> enum = 3;
    string optionName = 4;
    // Data type is based on the types supported by the JSON-Schema
    string type = 5;
}

message GeneratorInput {
    AuthorizationValue authorizationValue = 1;
    map<string, string> options = 2;
    SecuritySchemeDefinition securityDefinition = 3;
    message Spec {
    }
    Spec spec = 4;
    string swaggerUrl = 5;
}

message ResponseCode {
    // File download code
    string code = 1;
    // URL for fetching the generated client
    string link = 2;
}

message SecuritySchemeDefinition {
    string description = 1;
    string type = 2;
}

service SwaggerGeneratorService {
    // Gets languages supported by the client generator
    rpc GetGenClients(google.protobuf.Empty) returns (GetGenClientsResponse) {
      option (google.api.http) = {
        get: "/api/gen/clients"
      };
    }
    // Returns options for a client library
    rpc GetGenClientsLanguage(GetGenClientsLanguageRequest) returns (GetGenClientsLanguageResponse) {
      option (google.api.http) = {
        get: "/api/gen/clients/{language}"
      };
    }
    // Generates a client library
    // 
    // Accepts a `GeneratorInput` options map for spec location and generation options
    rpc PostGenClientsLanguage(PostGenClientsLanguageRequest) returns (ResponseCode) {
      option (google.api.http) = {
        post: "/api/gen/clients/{language}"
        body: "body"
      };
    }
    // Downloads a pre-generated file
    // 
    // A valid `fileId` is generated by the `/clients/{language}` or `/servers/{language}` POST operations.  The fileId code can be used just once, after which a new `fileId` will need to be requested.
    rpc GetGenDownloadFileId(GetGenDownloadFileIdRequest) returns (google.protobuf.Empty) {
      option (google.api.http) = {
        get: "/api/gen/download/{fileId}"
      };
    }
    // Gets languages supported by the server generator
    rpc GetGenServers(google.protobuf.Empty) returns (GetGenServersResponse) {
      option (google.api.http) = {
        get: "/api/gen/servers"
      };
    }
    // Returns options for a server framework
    rpc GetGenServersFramework(GetGenServersFrameworkRequest) returns (GetGenServersFrameworkResponse) {
      option (google.api.http) = {
        get: "/api/gen/servers/{framework}"
      };
    }
    // Generates a server library
    // 
    // Accepts a `GeneratorInput` options map for spec location and generation options.
    rpc PostGenServersFramework(PostGenServersFrameworkRequest) returns (ResponseCode) {
      option (google.api.http) = {
        post: "/api/gen/servers/{framework}"
        body: "body"
      };
    }
}
