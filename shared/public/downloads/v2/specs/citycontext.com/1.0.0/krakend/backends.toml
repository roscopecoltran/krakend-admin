[[backends]]
  group = "city-context-1-0-0"
  url_pattern = "/v1/@{lat},{lon}"
  method = "GET"
  encoding = "json"
  host = ["http://api.citycontext.com"]
  whitelist = ["lsoa", "parks", "schools"]
  concurrent_calls = 1
  [backends.mapping]
    lsoa = "lsoa"
    parks = "parks"
    schools = "schools"
  [backends.extra_config]
    slug = "city-context-1-0-0-v1-at-lat-lon"
    produces = ["json"]
    hosts = ["http://api.citycontext.com"]
    topics = ["open-data"]
    schemes = ["http"]

[[backends]]
  group = "city-context-1-0-0"
  url_pattern = "/v1/postcodes/{postcode}"
  method = "GET"
  encoding = "json"
  host = ["http://api.citycontext.com"]
  whitelist = ["lsoa", "parks", "schools"]
  concurrent_calls = 1
  [backends.mapping]
    lsoa = "lsoa"
    parks = "parks"
    schools = "schools"
  [backends.extra_config]
    slug = "city-context-1-0-0-v1-postcodes-postcode"
    produces = ["json"]
    hosts = ["http://api.citycontext.com"]
    topics = ["open-data"]
    schemes = ["http"]

[[backends]]
  group = "city-context-1-0-0"
  url_pattern = "/v1/usage"
  method = "GET"
  encoding = "json"
  host = ["http://api.citycontext.com"]
  whitelist = ["allowance", "period", "periodEnd", "periodStart", "plan", "usage"]
  concurrent_calls = 1
  [backends.mapping]
    allowance = "allowance"
    period = "period"
    periodEnd = "periodEnd"
    periodStart = "periodStart"
    plan = "plan"
    usage = "usage"
  [backends.extra_config]
    slug = "city-context-1-0-0-v1-usage"
    produces = ["json"]
    hosts = ["http://api.citycontext.com"]
    topics = ["open-data"]
    schemes = ["http"]
